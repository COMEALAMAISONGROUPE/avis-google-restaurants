<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Come √† la maison & co - Votre exp√©rience m√©rite d'√™tre partag√©e</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Crimson+Text:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --white: #FFFFFF;
            --black: #0A0A0A;
            --gray-light: #F8F8F8;
            --gray-medium: #6B6B6B;
            --gray-dark: #2a2a2a;
            --border: #E8E8E8;
            --accent-gold: #D4AF37;
            --accent-dark: #1A1A1A;
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.04);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.12);
            --shadow-xl: 0 20px 60px rgba(0, 0, 0, 0.20);
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--white);
            color: var(--black);
            line-height: 1.6;
            font-size: 16px;
            overflow-x: hidden;
        }

        /* SCROLL PROGRESS BAR */
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 2px;
            background: var(--accent-gold);
            z-index: 9999;
            transition: width 0.1s ease-out;
        }

        /* POPUP OVERLAY */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(20px);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .popup-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* POPUP CONTAINER */
        .popup-container {
            background: var(--white);
            max-width: 520px;
            width: 100%;
            border-radius: 2px;
            position: relative;
            transform: translateY(30px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-xl);
            overflow: hidden;
            max-height: 90vh;
            overflow-y: auto;
        }

        .popup-overlay.active .popup-container {
            transform: translateY(0);
        }

        /* POPUP DECORATIVE HEADER */
        .popup-header-decoration {
            height: 1px;
            background: var(--accent-gold);
        }

        /* CLOSE BUTTON */
        .popup-close {
            position: absolute;
            top: 18px;
            right: 18px;
            width: 34px;
            height: 34px;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 0;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .popup-close:hover {
            border-color: var(--black);
            background: var(--black);
        }

        .popup-close::before,
        .popup-close::after {
            content: '';
            position: absolute;
            width: 14px;
            height: 1px;
            background: var(--black);
            transition: background 0.3s ease;
        }

        .popup-close:hover::before,
        .popup-close:hover::after {
            background: var(--white);
        }

        .popup-close::before {
            transform: rotate(45deg);
        }

        .popup-close::after {
            transform: rotate(-45deg);
        }

        /* POPUP CONTENT */
        .popup-content {
            padding: 45px 35px 40px;
            text-align: center;
        }

        .popup-icon {
            font-size: 2.5rem;
            margin-bottom: 20px;
            opacity: 0.9;
            animation: floatGently 3s ease-in-out infinite;
        }

        @keyframes floatGently {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }

        .popup-title {
            font-family: 'Crimson Text', serif;
            font-size: 1.7rem;
            font-weight: 600;
            margin-bottom: 15px;
            line-height: 1.3;
            color: var(--black);
            letter-spacing: -0.5px;
        }

        .popup-subtitle {
            font-size: 0.9rem;
            color: var(--gray-medium);
            margin-bottom: 25px;
            line-height: 1.6;
            font-weight: 400;
        }

        .popup-highlight {
            background: var(--gray-light);
            padding: 18px 22px;
            margin: 25px 0;
            font-weight: 500;
            font-size: 0.9rem;
            letter-spacing: 0.3px;
            border-left: 2px solid var(--accent-gold);
            text-align: left;
            color: var(--gray-dark);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .popup-highlight-emoji {
            font-size: 1.4rem;
            flex-shrink: 0;
        }

        .popup-cta-wrapper {
            display: flex;
            justify-content: center;
            width: 100%;
            margin-top: 25px;
        }

        .popup-cta {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 17px 40px;
            background: var(--black);
            color: var(--white);
            border: 1px solid var(--black);
            font-family: 'Inter', sans-serif;
            font-size: 0.8rem;
            font-weight: 600;
            letter-spacing: 1.5px;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            border-radius: 0;
            text-align: center;
            width: 100%;
            max-width: 100%;
        }

        .popup-cta:hover {
            background: transparent;
            color: var(--black);
        }

        .popup-cta-emoji {
            font-size: 1rem;
            display: inline-block;
            line-height: 1;
        }

        .popup-cta span:not(.popup-cta-emoji) {
            display: inline-block;
            text-align: center;
        }

        .popup-secondary {
            display: block;
            margin-top: 16px;
            padding: 10px;
            font-size: 0.85rem;
            color: var(--gray-medium);
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 0.5px;
        }

        .popup-secondary:hover {
            color: var(--black);
        }

        /* HERO SECTION */
        .hero {
            margin-top: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            padding: 40px 20px;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('Severin.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: 0;
            filter: brightness(0.8) grayscale(0.1);
        }

        .hero::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0,0,0,0.15) 0%, rgba(0,0,0,0.1) 100%);
            z-index: 1;
        }

        .hero-logo {
            position: absolute;
            top: 40px;
            left: 20px;
            transform: none;
            z-index: 3;
            animation: fadeInDown 1s ease-out;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        .hero-logo img {
            height: 90px;
            width: auto;
            object-fit: contain;
            filter: drop-shadow(0 4px 20px rgba(0, 0, 0, 0.5));
        }

        .hero-content {
            max-width: 850px;
            text-align: center;
            padding: 0 20px;
            position: relative;
            z-index: 2;
            animation: fadeInUp 1s ease-out 0.3s backwards;
            margin-top: 60px;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-title {
            font-family: 'Crimson Text', serif;
            font-size: clamp(2.2rem, 7vw, 4.2rem);
            font-weight: 400;
            color: var(--white);
            margin-bottom: 30px;
            line-height: 1.2;
            letter-spacing: -0.5px;
        }

        .hero-subtitle {
            font-size: clamp(0.95rem, 2.5vw, 1.15rem);
            color: rgba(255,255,255,0.9);
            margin-bottom: 40px;
            line-height: 1.7;
            font-weight: 300;
            max-width: 650px;
            margin-left: auto;
            margin-right: auto;
            letter-spacing: 0.3px;
        }

        .hero-cta-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 14px;
            margin-top: 40px;
        }

        .hero-cta-primary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 16px 40px;
            background: var(--white);
            color: var(--black);
            border: 1px solid var(--white);
            font-family: 'Inter', sans-serif;
            font-size: 0.8rem;
            font-weight: 600;
            letter-spacing: 1.5px;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            border-radius: 0;
            text-align: center;
            width: 100%;
            max-width: 320px;
        }

        .hero-cta-primary:hover {
            background: transparent;
            color: var(--white);
        }

        .hero-cta-secondary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px 40px;
            background: transparent;
            color: var(--white);
            border: 1px solid rgba(255,255,255,0.4);
            font-family: 'Inter', sans-serif;
            font-size: 0.8rem;
            font-weight: 500;
            letter-spacing: 1.5px;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            border-radius: 0;
            width: 100%;
            max-width: 320px;
        }

        .hero-cta-secondary:hover {
            border-color: var(--white);
            background: rgba(255,255,255,0.05);
        }

        /* WHY SECTION - ULTRA COMPACT MOBILE */
        .why-section {
            padding: 80px 25px;
            background: var(--white);
        }

        .why-container {
            max-width: 1100px;
            margin: 0 auto;
            text-align: center;
        }

        .section-title {
            font-family: 'Crimson Text', serif;
            font-size: clamp(1.8rem, 5vw, 3.2rem);
            font-weight: 500;
            margin-bottom: 18px;
            line-height: 1.3;
            position: relative;
            display: inline-block;
            letter-spacing: -0.5px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 1px;
            background: var(--accent-gold);
        }

        .section-subtitle {
            font-size: 0.95rem;
            color: var(--gray-medium);
            line-height: 1.7;
            margin-bottom: 50px;
            margin-top: 35px;
            max-width: 650px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 300;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-top: 50px;
        }

        .benefit-card {
            background: var(--white);
            padding: 40px 30px;
            border-radius: 0;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
            animation: fadeInUp 0.6s ease backwards;
        }

        .benefit-card:nth-child(1) { animation-delay: 0.1s; }
        .benefit-card:nth-child(2) { animation-delay: 0.2s; }
        .benefit-card:nth-child(3) { animation-delay: 0.3s; }

        .benefit-card:hover {
            border-color: var(--accent-gold);
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .benefit-icon {
            font-size: 2.5rem;
            margin-bottom: 20px;
            opacity: 0.85;
            display: block;
        }

        .benefit-title {
            font-family: 'Crimson Text', serif;
            font-size: 1.3rem;
            font-weight: 500;
            margin-bottom: 12px;
            color: var(--black);
            letter-spacing: -0.3px;
        }

        .benefit-description {
            font-size: 0.9rem;
            color: var(--gray-medium);
            line-height: 1.7;
            font-weight: 300;
        }

        /* RESTAURANTS SECTION - HIDDEN BY DEFAULT */
        .restaurants-section {
            padding: 25px 18px 80px;
            background: var(--gray-light);
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .restaurants-section.visible {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .restaurants-container {
            max-width: 1280px;
            margin: 0 auto;
        }

        .restaurants-header {
            text-align: center;
            margin-bottom: 28px;
            padding-top: 8px;
        }

        .restaurants-title {
            font-family: 'Crimson Text', serif;
            font-size: clamp(1.6rem, 4vw, 2.5rem);
            font-weight: 500;
            margin-bottom: 10px;
            line-height: 1.3;
            color: var(--black);
            letter-spacing: -0.5px;
        }

        .restaurants-subtitle {
            font-size: 0.85rem;
            color: var(--gray-medium);
            line-height: 1.5;
            font-weight: 300;
            letter-spacing: 0.5px;
        }

        .restaurants-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }

        .restaurant-card {
            position: relative;
            overflow: hidden;
            border: 1px solid var(--border);
            border-radius: 0;
            transition: all 0.3s ease;
            animation: fadeInUpCard 0.6s ease backwards;
            background: var(--white);
        }

        .restaurant-card:nth-child(1) { animation-delay: 0.1s; }
        .restaurant-card:nth-child(2) { animation-delay: 0.2s; }
        .restaurant-card:nth-child(3) { animation-delay: 0.3s; }
        .restaurant-card:nth-child(4) { animation-delay: 0.4s; }
        .restaurant-card:nth-child(5) { animation-delay: 0.5s; }

        @keyframes fadeInUpCard {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .restaurant-card:hover {
            border-color: var(--accent-gold);
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .restaurant-image-wrapper {
            position: relative;
            overflow: hidden;
            height: 220px;
        }

        .restaurant-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.6s ease;
            filter: grayscale(0.1);
        }

        .restaurant-card:hover .restaurant-image {
            transform: scale(1.05);
            filter: grayscale(0);
        }

        .restaurant-image-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(212, 175, 55, 0.1);
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .restaurant-card:hover .restaurant-image-overlay {
            opacity: 1;
        }

        .restaurant-info {
            padding: 35px 20px 30px;
            background: var(--white);
        }

        .restaurant-logo-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 18px;
            margin-top: -60px;
            position: relative;
            z-index: 2;
        }

        .restaurant-logo-container {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            background: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s ease;
            padding: 0;
            overflow: hidden;
            border: 4px solid var(--white);
        }

        .restaurant-card:hover .restaurant-logo-container {
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
            transform: translateY(-5px);
        }

        .restaurant-logo-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .restaurant-name {
            font-family: 'Crimson Text', serif;
            font-size: 1.35rem;
            font-weight: 500;
            margin-bottom: 6px;
            letter-spacing: -0.3px;
            text-align: center;
            transition: color 0.3s ease;
            line-height: 1.3;
        }

        .restaurant-card:hover .restaurant-name {
            color: var(--accent-gold);
        }

        .restaurant-location {
            font-size: 0.72rem;
            color: var(--gray-medium);
            margin-bottom: 12px;
            line-height: 1.4;
            text-align: center;
            letter-spacing: 2px;
            text-transform: uppercase;
            font-weight: 500;
        }

        .restaurant-description {
            font-size: 0.83rem;
            color: var(--gray-medium);
            margin-bottom: 20px;
            line-height: 1.6;
            text-align: center;
            font-weight: 300;
        }

        .restaurant-btn-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .reserve-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            padding: 16px 30px;
            background: var(--black);
            color: var(--white);
            border: 1px solid var(--black);
            font-family: 'Inter', sans-serif;
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 1.5px;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            border-radius: 0;
            text-transform: uppercase;
        }

        .reserve-btn:hover {
            background: transparent;
            color: var(--black);
        }

        .review-btn-secondary {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 15px 28px;
            background: transparent;
            color: var(--black);
            border: 1px solid var(--border);
            font-family: 'Inter', sans-serif;
            font-size: 0.75rem;
            font-weight: 500;
            letter-spacing: 1.5px;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            border-radius: 0;
            text-transform: uppercase;
        }

        .review-btn-secondary:hover {
            border-color: var(--black);
        }

        .review-btn-emoji {
            font-size: 0.9rem;
            display: inline-block;
            line-height: 1;
        }

        .review-btn-secondary span:not(.review-btn-emoji) {
            display: inline-block;
            text-align: center;
        }

        /* FOOTER */
        footer {
            background: var(--black);
            color: var(--white);
            padding: 60px 25px 35px;
        }

        .footer-content {
            max-width: 1280px;
            margin: 0 auto;
        }

        .footer-top {
            display: grid;
            grid-template-columns: 1fr;
            gap: 40px;
            margin-bottom: 50px;
            padding-bottom: 50px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .footer-section h3 {
            font-family: 'Crimson Text', serif;
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 20px;
            color: var(--white);
            letter-spacing: 0.5px;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section li {
            margin-bottom: 14px;
        }

        .footer-section a {
            color: rgba(255,255,255,0.5);
            text-decoration: none;
            font-size: 0.85rem;
            transition: all 0.3s ease;
            display: inline-block;
            font-weight: 300;
            letter-spacing: 0.5px;
        }

        .footer-section a:hover {
            color: var(--white);
            transform: translateX(3px);
        }

        .footer-bottom {
            text-align: center;
        }

        .footer-bottom p {
            color: rgba(255,255,255,0.4);
            font-size: 0.8rem;
            font-weight: 300;
            letter-spacing: 0.5px;
        }

        /* REVIEW POPUP OVERLAY */ .review-iframe-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); z-index: 10001; display: flex; align-items: center; justify-content: center; padding: 20px; opacity: 0; visibility: hidden; transition: all 0.4s ease; } .review-iframe-overlay.active { opacity: 1; visibility: visible; } .review-iframe-container { background: var(--white); width: 100%; max-width: 600px; position: relative; transform: translateY(20px) scale(0.97); transition: all 0.5s cubic-bezier(0.4,0,0.2,1); box-shadow: var(--shadow-xl); overflow: hidden; max-height: 90vh; overflow-y: auto; } .review-iframe-overlay.active .review-iframe-container { transform: translateY(0) scale(1); } .review-iframe-header { height: 1px; background: var(--accent-gold); } .review-iframe-close { position: absolute; top: 16px; right: 16px; width: 34px; height: 34px; background: transparent; border: 1px solid var(--border); cursor: pointer; z-index: 10; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; } .review-iframe-close:hover { border-color: var(--black); background: var(--black); } .review-iframe-close::before, .review-iframe-close::after { content: ''; position: absolute; width: 14px; height: 1px; background: var(--black); transition: background 0.3s ease; } .review-iframe-close:hover::before, .review-iframe-close:hover::after { background: var(--white); } .review-iframe-close::before { transform: rotate(45deg); } .review-iframe-close::after { transform: rotate(-45deg); } .review-iframe-body { padding: 45px 35px 40px; text-align: center; } .review-iframe-icon { font-size: 3rem; margin-bottom: 20px; display: block; animation: floatGently 3s ease-in-out infinite; } .review-iframe-title { font-family: 'Crimson Text', serif; font-size: 1.6rem; font-weight: 600; margin-bottom: 12px; color: var(--black); letter-spacing: -0.5px; } .review-iframe-subtitle { font-size: 0.9rem; color: var(--gray-medium); margin-bottom: 25px; line-height: 1.6; } .review-iframe-stars { display: flex; justify-content: center; gap: 8px; margin-bottom: 30px; } .review-iframe-star { font-size: 2.5rem; cursor: pointer; transition: all 0.2s ease; filter: grayscale(1); opacity: 0.4; } .review-iframe-star:hover, .review-iframe-star.active { filter: grayscale(0); opacity: 1; transform: scale(1.15); } .review-iframe-textarea { width: 100%; min-height: 120px; padding: 16px; border: 1px solid var(--border); font-family: 'Inter', sans-serif; font-size: 0.9rem; resize: vertical; outline: none; transition: border-color 0.3s; margin-bottom: 20px; } .review-iframe-textarea:focus { border-color: var(--accent-gold); } .review-iframe-submit { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 16px 40px; background: var(--black); color: var(--white); border: 1px solid var(--black); font-family: 'Inter', sans-serif; font-size: 0.8rem; font-weight: 600; letter-spacing: 1.5px; cursor: pointer; transition: all 0.3s ease; text-transform: uppercase; width: 100%; } .review-iframe-submit:hover { background: transparent; color: var(--black); } .review-iframe-note { margin-top: 15px; font-size: 0.8rem; color: var(--gray-medium); } .review-iframe-divider { display: flex; align-items: center; gap: 15px; margin: 20px 0; color: var(--gray-medium); font-size: 0.8rem; } .review-iframe-divider::before, .review-iframe-divider::after { content: ''; flex: 1; height: 1px; background: var(--border); } .review-iframe-google-btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 14px 30px; background: transparent; color: var(--black); border: 1px solid var(--border); font-family: 'Inter', sans-serif; font-size: 0.8rem; font-weight: 500; letter-spacing: 1px; cursor: pointer; transition: all 0.3s ease; text-transform: uppercase; width: 100%; text-decoration: none; } .review-iframe-google-btn:hover { border-color: var(--black); } @media (max-width: 480px) { .review-iframe-container { margin: 10px; } .review-iframe-body { padding: 35px 22px 30px; } .review-iframe-title { font-size: 1.4rem; } .review-iframe-star { font-size: 2rem; } .review-iframe-textarea { min-height: 100px; } } /* SCROLL TO TOP BUTTON */
        .scroll-to-top {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 48px;
            height: 48px;
            background: var(--black);
            color: var(--white);
            border: 1px solid var(--black);
            border-radius: 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            font-weight: 300;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .scroll-to-top:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        /* MOBILE OPTIMIZATIONS - ULTRA COMPACT */
        @media (max-width: 480px) {
            /* POPUP */
            .popup-container {
                margin: 15px;
            }

            .popup-content {
                padding: 35px 25px 30px;
            }

            .popup-title {
                font-size: 1.5rem;
                margin-bottom: 12px;
            }

            .popup-subtitle {
                font-size: 0.85rem;
                margin-bottom: 20px;
                line-height: 1.5;
            }

            .popup-icon {
                font-size: 2rem;
                margin-bottom: 18px;
            }

            .popup-highlight {
                padding: 16px 20px;
                font-size: 0.85rem;
                margin: 20px 0;
            }

            .popup-highlight-emoji {
                font-size: 1.3rem;
            }

            .popup-cta {
                padding: 15px 30px;
                font-size: 0.75rem;
            }

            .popup-secondary {
                margin-top: 14px;
                font-size: 0.8rem;
            }

            /* HERO */
            .hero-logo img {
                height: 70px;
            }

            .hero-title {
                font-size: 1.9rem;
            }

            .hero-subtitle {
                font-size: 0.9rem;
            }

            .hero-cta-primary,
            .hero-cta-secondary {
                font-size: 0.75rem;
                padding: 15px 35px;
            }

            /* WHY SECTION - DRASTIQUEMENT R√âDUIT */
            .why-section {
                padding: 40px 20px 35px !important;
            }

            .section-title {
                font-size: 1.5rem !important;
                margin-bottom: 10px !important;
            }

            .section-title::after {
                bottom: -8px;
                width: 35px;
            }

            .section-subtitle {
                font-size: 0.8rem !important;
                margin-bottom: 25px !important;
                margin-top: 20px !important;
                line-height: 1.5 !important;
            }

            .benefits-grid {
                gap: 18px !important;
                margin-top: 25px !important;
            }

            .benefit-card {
                padding: 25px 20px !important;
            }

            .benefit-icon {
                font-size: 2rem !important;
                margin-bottom: 12px !important;
            }

            .benefit-title {
                font-size: 1.1rem !important;
                margin-bottom: 8px !important;
            }

            .benefit-description {
                font-size: 0.8rem !important;
                line-height: 1.5 !important;
            }
        }

        /* TABLET */
        @media (min-width: 769px) {
            .popup-container {
                max-width: 550px;
            }

            .popup-content {
                padding: 50px 45px 45px;
            }

            .popup-title {
                font-size: 1.9rem;
            }

            .popup-subtitle {
                font-size: 1rem;
            }

            .popup-highlight {
                padding: 22px 28px;
                font-size: 0.95rem;
            }

            .hero-logo {
                left: 40px;
                transform: none;
            }

            .hero-cta-primary,
            .hero-cta-secondary {
                max-width: 350px;
                padding: 18px 50px;
                font-size: 0.85rem;
            }

            .benefits-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 40px;
            }

            .restaurants-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 35px;
            }

            .restaurant-image-wrapper {
                height: 280px;
            }

            .why-section {
                padding: 120px 30px;
            }

            .restaurants-section {
                padding: 60px 30px 100px;
            }
        }

        /* LARGE DESKTOP */
        @media (min-width: 1025px) {
            .hero-logo {
                left: 50px;
                transform: none;
            }

            .restaurants-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 40px;
            }

            .restaurant-image-wrapper {
                height: 320px;
            }
        }
    </style>
</head>
<body>
    <!-- SCROLL PROGRESS BAR -->
    <div class="scroll-progress" id="scrollProgress"></div>

    <!-- POPUP LEAD CAPTURE -5% -->
    <div class="popup-overlay" id="reviewPopup">
        <div class="popup-container">
            <div class="popup-header-decoration"></div>
            <button class="popup-close" id="closePopup" aria-label="Fermer"></button>
            <div class="popup-content">
                <div id="lead-form-section">
                    <div class="popup-icon">üéÅ</div>
                    <h2 class="popup-title">-5% sur votre addition !</h2>
                    <p class="popup-subtitle">Renseignez vos coordonn√©es pour recevoir votre code promo exclusif.</p>
                    <form id="leadForm" onsubmit="submitLead(event)" style="text-align:left;margin-top:20px;">
                        <input type="text" id="leadPrenom" placeholder="Votre pr√©nom" required style="width:100%;padding:12px 16px;margin-bottom:10px;border:1px solid var(--border);font-family:'Inter',sans-serif;font-size:0.9rem;outline:none;border-radius:0;">
                        <input type="email" id="leadEmail" placeholder="Votre email" required style="width:100%;padding:12px 16px;margin-bottom:10px;border:1px solid var(--border);font-family:'Inter',sans-serif;font-size:0.9rem;outline:none;border-radius:0;">
                        <input type="tel" id="leadTelephone" placeholder="Votre t√©l√©phone" required style="width:100%;padding:12px 16px;margin-bottom:14px;border:1px solid var(--border);font-family:'Inter',sans-serif;font-size:0.9rem;outline:none;border-radius:0;">
                        <label style="display:flex;align-items:flex-start;gap:8px;margin-bottom:18px;font-size:0.75rem;color:var(--gray-medium);cursor:pointer;">
                            <input type="checkbox" id="leadRgpd" required style="margin-top:2px;">
                            <span>J'accepte de recevoir des offres par email et SMS. D√©sinscription possible √† tout moment. <a href="privacy-policy.html" target="_blank" style="color:var(--accent-gold);text-decoration:underline;">Politique de confidentialit√©</a></span>
                        </label>
                        <div class="popup-cta-wrapper">
                            <button type="submit" class="popup-cta" id="leadSubmitBtn">
                                <span>Je r√©cup√®re mon -5%</span>
                            </button>
                        </div>
                    </form>
                </div>
                <div id="lead-success-section" style="display:none;">
                    <!-- ETAPE 1: Timer + option avis -->
                    <div id="timer-section">
                        <div class="popup-icon">‚è≥</div>
                        <h2 class="popup-title" style="color:#27ae60;">Merci <span id="leadPrenomDisplay"></span> !</h2>
                        <p class="popup-subtitle">Votre code promo sera disponible dans :</p>
                        <div style="text-align:center;margin:25px 0;">
                            <span id="countdownTimer" style="font-size:2.5rem;font-weight:700;color:var(--accent-gold);font-family:'Crimson Text',serif;letter-spacing:2px;">01:00</span>
                        </div>
                        <div style="background:var(--gray-light);padding:18px 22px;margin:20px 0;border-left:2px solid var(--accent-gold);text-align:left;">
                            <p style="font-size:0.85rem;color:var(--gray-dark);margin:0;"><strong>üí¨ En attendant :</strong> Partagez votre exp√©rience et aidez-nous √† nous am√©liorer !</p>
                        </div>
                        <div class="popup-cta-wrapper">
                            <a href="#" id="reviewForCodeBtn" class="popup-cta" onclick="reviewForInstantCode(); return false;" style="background:var(--accent-gold);border-color:var(--accent-gold);color:#fff;">
                                <span>‚≠ê PARTAGER MON EXPERIENCE</span>
                            </a>
                        </div>
                        <a href="#" class="popup-secondary" onclick="return false;">Je patiente 1 minute</a>
                    </div>
                    <!-- ETAPE 2: Code r√©v√©l√© -->
                    <div id="code-revealed-section" style="display:none;">
                        <div class="popup-icon">üéâ</div>
                        <h2 class="popup-title" style="color:#27ae60;">Votre code promo !</h2>
                        <div class="popup-highlight" style="text-align:center;justify-content:center;border-left:2px solid #27ae60;background:#f0faf0;">
                            <span id="promoCodeDisplay" style="font-size:1.6rem;font-weight:bold;color:#27ae60;letter-spacing:4px;"></span>
                        </div>
                        <p class="popup-subtitle">Pr√©sentez ce code lors de votre prochaine visite pour <strong>-5% sur l'addition</strong>.</p>
                        <div class="popup-cta-wrapper">
                            <a href="#" class="popup-cta" id="popupCta" onclick="closePopup();return false;" style="background:var(--accent-gold);border-color:var(--accent-gold);color:#fff;">
                                <span>‚úÖ C'est not√©, merci !</span>
                            </a>
                        </div>
                    </div>
                </div>
                            </div>
        </div>
    </div>

    <!-- HERO SECTION -->
    <section class="hero" id="home">
        <div class="hero-logo">
            <img src="472282651_1387969249261231_7595495068333774581_n.jpg" alt="Come √† la maison">
        </div>
        <div class="hero-content">
            <h1 class="hero-title">L'excellence se partage</h1>
            <p class="hero-subtitle">Votre regard affine notre art. Chaque retour d'exp√©rience nourrit notre qu√™te de perfection et inspire ceux qui nous d√©couvrent.</p>

            <div class="hero-cta-group">
                <a href="#restaurants" class="hero-cta-primary" id="mainCta">
                    Partager mon exp√©rience
                </a>
                <a href="#restaurants" class="hero-cta-secondary" id="secondaryCta">
                    D√©couvrir nos adresses
                </a>
            </div>
        </div>
    </section>

    <!-- WHY SECTION - ULTRA COMPACT MOBILE -->
    <section class="why-section">
        <div class="why-container">
            <h2 class="section-title">Pourquoi votre voix compte</h2>
            <p class="section-subtitle">Votre perspective enrichit notre communaut√© et guide nos √©volutions.</p>

            <div class="benefits-grid">
                <div class="benefit-card">
                    <span class="benefit-icon">‚úçÔ∏è</span>
                    <h3 class="benefit-title">Un geste qui compte</h3>
                    <p class="benefit-description">Chaque avis partag√© aide notre famille √† grandir et √† continuer de vous accueillir avec passion.</p>
                </div>

                <div class="benefit-card">
                    <span class="benefit-icon">üíé</span>
                    <h3 class="benefit-title">Influence directe</h3>
                    <p class="benefit-description">Vos retours fa√ßonnent notre offre et affinent chaque d√©tail de nos exp√©riences culinaires.</p>
                </div>

                <div class="benefit-card">
                    <span class="benefit-icon">üåü</span>
                    <h3 class="benefit-title">Communaut√© inspirante</h3>
                    <p class="benefit-description">Guidez les √©picuriens vers leurs prochaines d√©couvertes gastronomiques.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- RESTAURANTS SECTION (HIDDEN BY DEFAULT) -->
    <section class="restaurants-section visible" id="restaurants">
        <div class="restaurants-container">
            

            <div class="restaurants-grid">
                <div class="restaurant-card">
                    <div class="restaurant-image-wrapper">
                        <img src="come-a-la-maison.jpg" alt="Come √† la maison" class="restaurant-image">
                        <div class="restaurant-image-overlay"></div>
                    </div>
                    <div class="restaurant-info">
                        <div class="restaurant-logo-wrapper">
                            <div class="restaurant-logo-container">
                                <img src="come-a-la-maison-groupe-come_Plan-de-travail-1.jpg" alt="Come √† la maison Logo">
                            </div>
                        </div>
                        <h3 class="restaurant-name">Come √† la maison</h3>
                        <p class="restaurant-location">Luxembourg</p>
                        <p class="restaurant-description">L'authenticit√© italienne au c≈ìur de la ville. Saveurs m√©diterran√©ennes et accueil chaleureux.</p>
                        <div class="restaurant-btn-group">
                            <a href="https://www.comealamaison.lu/" target="_blank" class="review-btn-secondary">
                                R√©server
                            </a>
                            <a href="https://search.google.com/local/writereview?placeid=ChIJDbJfDShJlUcRehDaRWQNDnE" target="_blank" class="reserve-btn">
                                <span class="review-btn-emoji">üåü</span>
                                <span>Partager mon avis</span>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="restaurant-card">
                    <div class="restaurant-image-wrapper">
                        <img src="brasserie-des-nations.jpg" alt="Brasserie des Nations" class="restaurant-image">
                        <div class="restaurant-image-overlay"></div>
                    </div>
                    <div class="restaurant-info">
                        <div class="restaurant-logo-wrapper">
                            <div class="restaurant-logo-container">
                                <img src="611644101_17843493915670666_4965556442638396968_n.jpg" alt="Brasserie des Nations Logo">
                            </div>
                        </div>
                        <h3 class="restaurant-name">Brasserie des Nations</h3>
                        <p class="restaurant-location">Luxembourg</p>
                        <p class="restaurant-description">Atmosph√®re conviviale, cuisine g√©n√©reuse et service impeccable. L'excellence √† chaque visite.</p>
                        <div class="restaurant-btn-group">
                            <a href="https://www.google.com/search?q=brasserie+des+nations" target="_blank" class="review-btn-secondary">
                                R√©server
                            </a>
                            <a href="https://search.google.com/local/writereview?placeid=ChIJGUyhu9RIlUcRkvtPLgshxR4" target="_blank" class="reserve-btn">
                                <span class="review-btn-emoji">üåü</span>
                                <span>Partager mon avis</span>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="restaurant-card">
                    <div class="restaurant-image-wrapper">
                        <img src="Ceruzzi.jpg" alt="Ceruzzi" class="restaurant-image">
                        <div class="restaurant-image-overlay"></div>
                    </div>
                    <div class="restaurant-info">
                        <div class="restaurant-logo-wrapper">
                            <div class="restaurant-logo-container">
                                <img src="449203847_1242257060481280_2284347406235910194_n.jpg" alt="Ceruzzi Logo">
                            </div>
                        </div>
                        <h3 class="restaurant-name">Ceruzzi</h3>
                        <p class="restaurant-location">Luxembourg</p>
                        <p class="restaurant-description">D√©lices italiens revisit√©s avec passion. Un voyage culinaire authentique √† chaque bouch√©e.</p>
                        <div class="restaurant-btn-group">
                            <a href="https://ceruzzi.lu/" target="_blank" class="review-btn-secondary">
                                R√©server
                            </a>
                            <a href="https://search.google.com/local/writereview?placeid=ChIJF62EKABJlUcRZW5S26CjnoI" target="_blank" class="reserve-btn">
                                <span class="review-btn-emoji">üåü</span>
                                <span>Partager mon avis</span>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="restaurant-card">
                    <div class="restaurant-image-wrapper">
                        <img src="mercato.jpg" alt="Il Mercato" class="restaurant-image">
                        <div class="restaurant-image-overlay"></div>
                    </div>
                    <div class="restaurant-info">
                        <div class="restaurant-logo-wrapper">
                            <div class="restaurant-logo-container">
                                <img src="446215405_760611436142259_6999356268202875394_n.jpg" alt="Il Mercato Logo">
                            </div>
                        </div>
                        <h3 class="restaurant-name">Il Mercato</h3>
                        <p class="restaurant-location">Luxembourg</p>
                        <p class="restaurant-description">March√© urbain √† l'italienne. Fra√Æcheur, qualit√© et authenticit√© pour une exp√©rience inoubliable.</p>
                        <div class="restaurant-btn-group">
                            <a href="https://ilmercato.lu/" target="_blank" class="review-btn-secondary">
                                R√©server
                            </a>
                            <a href="https://search.google.com/local/writereview?placeid=ChIJtcsSWQNPlUcR9YgqldycRRA" target="_blank" class="reserve-btn">
                                <span class="review-btn-emoji">üåü</span>
                                <span>Partager mon avis</span>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="restaurant-card">
                    <div class="restaurant-image-wrapper">
                        <img src="Rotisserie.jpg" alt="La R√¥tisserie Ardennaise" class="restaurant-image">
                        <div class="restaurant-image-overlay"></div>
                    </div>
                    <div class="restaurant-info">
                        <div class="restaurant-logo-wrapper">
                            <div class="restaurant-logo-container">
                                <img src="123747115_366375771279539_5404328722792594066_n.jpg" alt="La R√¥tisserie Ardennaise Logo">
                            </div>
                        </div>
                        <h3 class="restaurant-name">La R√¥tisserie Ardennaise</h3>
                        <p class="restaurant-location">Luxembourg</p>
                        <p class="restaurant-description">Traditions des Ardennes, excellence gastronomique. Viandes s√©lectionn√©es et pr√©par√©es avec soin.</p>
                        <div class="restaurant-btn-group">
                            <a href="https://www.rotisserie-ardennaise.com/" target="_blank" class="review-btn-secondary">
                                R√©server
                            </a>
                            <a href="https://search.google.com/local/writereview?placeid=ChIJv_ZOGytJlUcRp1K0RUL2MKQ" target="_blank" class="reserve-btn">
                                <span class="review-btn-emoji">üåü</span>
                                <span>Partager mon avis</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- MENTION LEGALE -->
    <div style="text-align:center;padding:8px 20px;opacity:0.6;font-size:11px;color:#666;">
                    Offre -5% soumise √† conditions. Vos donn√©es sont collect√©es conform√©ment au RGPD pour des communications marketing. Dur√©e de conservation : 3 ans. <a href="privacy-policy.html" style="color:#D4AF37;text-decoration:underline;">Politique de confidentialit√©</a>
    </div>

    <!-- COPYRIGHT -->
    <div style="text-align: center; padding: 20px; background-color: #f8f8f8; color: #666;">
        <p style="margin: 0; font-size: 14px;">¬© 2026 Come √† la maison & co. Tous droits r√©serv√©s. | <a href="privacy-policy.html" style="color:#D4AF37;text-decoration:underline;">Politique de confidentialit√©</a></p>
    </div>


    <!-- REVIEW POPUP OVERLAY --><div class="review-iframe-overlay" id="reviewIframeOverlay"><div class="review-iframe-container"><div class="review-iframe-header"></div><button class="review-iframe-close" id="reviewIframeClose" aria-label="Fermer"></button><div class="review-iframe-body"><span class="review-iframe-icon">‚≠ê</span><h2 class="review-iframe-title" id="reviewIframeTitle">Votre avis compte</h2><p class="review-iframe-subtitle">Partagez votre experience directement ici. Votre retour nous aide a nous ameliorer.</p><div class="review-iframe-stars" id="reviewStars"><span class="review-iframe-star" data-star="1">‚≠ê</span><span class="review-iframe-star" data-star="2">‚≠ê</span><span class="review-iframe-star" data-star="3">‚≠ê</span><span class="review-iframe-star" data-star="4">‚≠ê</span><span class="review-iframe-star" data-star="5">‚≠ê</span></div><textarea class="review-iframe-textarea" id="reviewTextarea" placeholder="Decrivez votre experience..."></textarea><button class="review-iframe-submit" id="reviewSubmitBtn" onclick="submitReviewPopup()">PUBLIER MON AVIS</button><p class="review-iframe-note">Votre avis sera transmis via Google</p><div class="review-iframe-divider">ou</div><a class="review-iframe-google-btn" id="reviewGoogleBtn" href="#" onclick="openGoogleReviewDirect(event)">ECRIRE SUR GOOGLE DIRECTEMENT</a></div></div></div><!-- SCROLL TO TOP BUTTON -->
    <button class="scroll-to-top" id="scrollToTop" aria-label="Retour en haut">‚Üë</button>

    <script>
                // Generate unique promo code once
        var _pch = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
        window._uniquePromoCode = 'PROMO';
        for (var _pi = 0; _pi < 6; _pi++) window._uniquePromoCode += _pch.charAt(Math.floor(Math.random() * _pch.length));
        // Scroll Progress Bar
        const scrollProgress = document.getElementById('scrollProgress');
        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const progress = (scrollTop / scrollHeight) * 100;
            scrollProgress.style.width = progress + '%';
        });

               // Lead Capture - Apps Script URL
        const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbx-GBbyySuEZZ-HA81xv_BjcedRA4CmvrP19-wOXjsr6hldkrhmEo2l7V-J67WEs4250g/exec';

            // Anti-fraude : Fingerprint navigateur (canvas)
        function getFingerprint() {
            try {
                var canvas = document.createElement('canvas');
                var ctx = canvas.getContext('2d');
                ctx.textBaseline = 'top';
                ctx.font = '14px Arial';
                ctx.fillText('fingerprint', 2, 2);
                ctx.fillStyle = 'rgba(102,204,0,0.7)';
                ctx.fillRect(50, 50, 60, 60);
                var dataUrl = canvas.toDataURL();
                var hash = 0;
                for (var i = 0; i < dataUrl.length; i++) {
                    var char = dataUrl.charCodeAt(i);
                    hash = ((hash << 5) - hash) + char;
                    hash = hash & hash;
                }
                return Math.abs(hash).toString(36);
            } catch(e) {
                return 'unknown';
            }
        }

        // Anti-fraude : CookieId persistant (localStorage)
        function getCookieId() {
            var id = localStorage.getItem('_devId');
            if (!id) {
                id = Date.now().toString(36) + Math.random().toString(36).substr(2, 9);
                localStorage.setItem('_devId', id);
            }
            return id;
        }

        // Anti-fraude : Recuperer IP publique
        var userIP = '';
        fetch('https://api.ipify.org?format=json')
            .then(function(r) { return r.json(); })
            .then(function(d) { userIP = d.ip || ''; })
            .catch(function() { userIP = ''; });

        function submitLead(e) {
            e.preventDefault();
            var btn = document.getElementById('leadSubmitBtn');
            btn.disabled = true;
            var prenom = document.getElementById('leadPrenom').value;
            var email = document.getElementById('leadEmail').value;
            var telephone = document.getElementById('leadTelephone').value;

            // Utiliser GET + JSONP pour contourner CORS et lire la reponse serveur
            var callbackName = 'leadCallback_' + Date.now();
            window[callbackName] = function(response) {
                // Nettoyer
                delete window[callbackName];
                var scriptTag = document.getElementById('leadScript');
                if (scriptTag) scriptTag.remove();

                if (response.status === 'success') {
                    // Nouveau lead => afficher le code promo
                    document.getElementById('lead-form-section').style.display = 'none';
                    localStorage.setItem('leadCaptured', 'true');
                    document.getElementById('leadPrenomDisplay').textContent = prenom;
                    document.getElementById('lead-success-section').style.display = 'block'; window._leadEmail = email; window._leadPrenom = prenom; startCountdown();
                    document.getElementById('skipPopup').style.display = 'none';
                } else if (response.status === 'duplicate') {
                    // Doublon => afficher un message d'erreur
                    btn.querySelector('span').textContent = 'Je recupere mon -5%';
                    btn.disabled = false;
                    var errorMsg = document.getElementById('leadErrorMsg');
                    if (!errorMsg) {
                        errorMsg = document.createElement('p');
                        errorMsg.id = 'leadErrorMsg';
                        errorMsg.style.cssText = 'color:#e74c3c;font-size:0.85rem;margin-top:10px;text-align:center;';
                        document.getElementById('leadForm').appendChild(errorMsg);
                    }
                    if (response.field === 'email') {
                        errorMsg.textContent = 'Cet email a deja ete utilise pour obtenir un code promo.';
                    } else if (response.field === 'telephone') {
                        errorMsg.textContent = 'Ce numero de telephone a deja ete utilise.';
                    } else {
                        errorMsg.textContent = 'Vous avez deja beneficie de cette offre.';
                    }
                } else {
                    btn.querySelector('span').textContent = 'Je recupere mon -5%';
                    btn.disabled = false;
                    alert('Une erreur est survenue. Veuillez reessayer.');
                }
            };

            // Creer le script JSONP
            var params = 'action=register'
                + '&prenom=' + encodeURIComponent(prenom)
                + '&email=' + encodeURIComponent(email)
                + '&telephone=' + encodeURIComponent(telephone)
                + '&code=' + encodeURIComponent(window._uniquePromoCode || 'PROMO')
                + '&source=popup-site'
            + '&fingerprint=' + encodeURIComponent(getFingerprint())
            + '&ip=' + encodeURIComponent(userIP)
            + '&cookieId=' + encodeURIComponent(getCookieId())
                + '&callback=' + callbackName;
            var script = document.createElement('script');
            script.id = 'leadScript';
            script.src = APPS_SCRIPT_URL + '?' + params;
            script.onerror = function() {
                delete window[callbackName];
                script.remove();
                btn.querySelector('span').textContent = 'Je recupere mon -5%';
                btn.disabled = false;
                alert('Erreur de connexion. Veuillez reessayer.');
            };
            document.body.appendChild(script);
        }
        
        // Popup functionality
        const popup = document.getElementById('reviewPopup');
        const closeBtn = document.getElementById('closePopup');
        const skipBtn = document.getElementById('skipPopup');
        const popupCta = document.getElementById('popupCta');

        window.addEventListener('load', function() {
if (new URLSearchParams(window.location.search).get('reset') === 'true') { localStorage.removeItem('leadCaptured'); } if (!localStorage.getItem('leadCaptured')) {
                setTimeout(function() {
                    popup.classList.add('active');
                }, 5000);
            }
        });

        function closePopup() {
            popup.classList.remove('active');
        }

        closeBtn.addEventListener('click', closePopup);
        skipBtn.addEventListener('click', function(e) {
            e.preventDefault();
            closePopup();
        });

        popupCta.addEventListener('click', function() {
            closePopup();
            showRestaurants();
        });

            // Bouton Laisser un avis => code instantane + ouvre Google avis dans nouvel onglet
    var reviewBtn = document.getElementById('reviewForCodeBtn');
    if (reviewBtn) {
        reviewBtn.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            reviewForInstantCode();
        });
    }

        popup.addEventListener('click', function(e) {
            if (e.target === popup) {
                closePopup();
            }
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && popup.classList.contains('active')) {
                closePopup();
            }
        });

        // Show restaurants section with optimized mobile scroll
        const restaurantsSection = document.getElementById('restaurants');
        const mainCta = document.getElementById('mainCta');
        const secondaryCta = document.getElementById('secondaryCta');

        function showRestaurants() {
            restaurantsSection.classList.add('visible');
            // Attendre que la section soit visible avant de scroller
            setTimeout(function() {
                // Sur mobile, scroller avec offset r√©duit pour voir toute la premi√®re carte
                const isMobile = window.innerWidth <= 768;
                const offset = isMobile ? 10 : 20;
                const offsetPosition = restaurantsSection.offsetTop - offset;
                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }, 100);
        }

        mainCta.addEventListener('click', function(e) {
            e.preventDefault();
            showRestaurants();
        });

        secondaryCta.addEventListener('click', function(e) {
            e.preventDefault();
            showRestaurants();
        });

        // Also show restaurants when clicking any anchor link to #restaurants
        document.querySelectorAll('a[href="#restaurants"]').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                showRestaurants();
            });
        });

        // Scroll to Top Button
        const scrollToTopBtn = document.getElementById('scrollToTop');

        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 400) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
        });

        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

                // ========== TIMER & EMAIL PROMO ==========
        var countdownInterval = null;

        function startCountdown() {
            var timeLeft = 60; // 1 minute en secondes
            var timerEl = document.getElementById('countdownTimer');
            countdownInterval = setInterval(function() {
                timeLeft--;
                var min = Math.floor(timeLeft / 60);
                var sec = timeLeft % 60;
                timerEl.textContent = (min < 10 ? '0' : '') + min + ':' + (sec < 10 ? '0' : '') + sec;
                if (timeLeft <= 0) {
                    clearInterval(countdownInterval);
                    // code deverrouille
                    revealCode();
                }
            }, 1000);
        }

                    function reviewForInstantCode() {
            if (window._reviewCodeDone) return;
            window._reviewCodeDone = true;
            openReviewPopup('https://search.google.com/local/writereview?placeid=ChIJDbJfDShJlUcRehDaRWQNDnE');
        }

        function revealCode() {
            document.getElementById('timer-section').style.display = 'none';
            document.getElementById('code-revealed-section').style.display = 'block';
            var ch = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
            var code = 'PROMO';
            for (var i = 0; i < 6; i++) code += ch.charAt(Math.floor(Math.random() * ch.length));
            var el = document.getElementById('promoCodeDisplay');
            if (el) el.textContent = window._uniquePromoCode;
                    sendPromoEmail(false);
        }

        function sendPromoEmail(instant) {
            var email = window._leadEmail || '';
            var prenom = window._leadPrenom || '';
            if (!email) return;
            var params = 'action=sendpromo' + '&email=' + encodeURIComponent(email) + '&prenom=' + encodeURIComponent(prenom) + '&code=' + encodeURIComponent(window._uniquePromoCode || 'PROMO') + '&instant=' + (instant ? 'true' : 'false');
            var script = document.createElement('script');
            script.src = APPS_SCRIPT_URL + '?' + params + '&callback=promoEmailSent';
            document.body.appendChild(script);
        }
        window.promoEmailSent = function() {}; /* ========== REVIEW POPUP ========== */ var currentReviewUrl = ''; var selectedStars = 0; function openReviewPopup(url) { currentReviewUrl = url; selectedStars = 0; document.querySelectorAll('.review-iframe-star').forEach(function(s) { s.classList.remove('active'); s.style.filter = ''; s.style.opacity = ''; }); document.getElementById('reviewTextarea').value = ''; document.getElementById('reviewIframeOverlay').classList.add('active'); document.body.style.overflow = 'hidden'; } function closeReviewPopup() { document.getElementById('reviewIframeOverlay').classList.remove('active'); document.body.style.overflow = ''; } document.getElementById('reviewIframeClose').addEventListener('click', closeReviewPopup); document.getElementById('reviewIframeOverlay').addEventListener('click', function(e) { if (e.target === this) closeReviewPopup(); }); document.addEventListener('keydown', function(e) { if (e.key === 'Escape' && document.getElementById('reviewIframeOverlay').classList.contains('active')) { closeReviewPopup(); } }); /* Star rating */ document.querySelectorAll('.review-iframe-star').forEach(function(star) { star.addEventListener('click', function() { selectedStars = parseInt(this.getAttribute('data-star')); document.querySelectorAll('.review-iframe-star').forEach(function(s, i) { if (i < selectedStars) { s.classList.add('active'); } else { s.classList.remove('active'); } }); }); star.addEventListener('mouseenter', function() { var val = parseInt(this.getAttribute('data-star')); document.querySelectorAll('.review-iframe-star').forEach(function(s, i) { if (i < val) { s.style.filter = 'grayscale(0)'; s.style.opacity = '1'; } else { s.style.filter = ''; s.style.opacity = ''; } }); }); star.addEventListener('mouseleave', function() { document.querySelectorAll('.review-iframe-star').forEach(function(s, i) { if (!s.classList.contains('active')) { s.style.filter = ''; s.style.opacity = ''; } }); }); }); function submitReviewPopup() { if (selectedStars === 0) { alert('Veuillez selectionner une note'); return; } window.open(currentReviewUrl, '_blank'); closeReviewPopup(); } function openGoogleReviewDirect(e) { e.preventDefault(); window.open(currentReviewUrl, '_blank'); closeReviewPopup(); } /* Intercept all review-btn-secondary clicks to open popup */ document.querySelectorAll('.review-btn-secondary').forEach(function(link) { link.addEventListener('click', function(e) { e.preventDefault(); var url = this.getAttribute('href'); if (url && url.indexOf('writereview') !== -1) { openReviewPopup(url); } }); });
    </script>
</body>
</html>
